<!DOCTYPE html>
<html>
  <head>
    <title>Fuse Connect Example</title>
  </head>
  <body>
    <button onclick="openFuse()">Connect to Fuse</button>
    <script src="connect-initialize.js"></script>
    <script>
      function openFuse() {
        Fuse.open({
          clientSecret: "GENERATED_CLIENT_SECRET",
          onEvent: function (eventName, data) {
            console.log(eventName, data);
          },
          onSuccess: async function (publicToken) {
            console.log("Public token:", publicToken);
          },
          onInstitutionSelected: function (institutionId, linkTokenCallback) {
            console.log("Selected institution:", institutionId);
            // Replace the linkTokenCallback function with your own implementation
            linkTokenCallback("GENERATED_LINK_TOKEN");
          },
          onExit: function () {
            console.log("Fuse Connect exited");
          },
        });
      }
    </script>
  </body>
</html>
